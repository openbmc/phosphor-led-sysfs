AM_CPPFLAGS = \
	$(PTHREAD_CPPFLAGS) \
	$(SDBUSPLUS_CPPFLAGS) \
	$(PHOSPHOR_DBUS_INTERFACES_CPPFLAGS) \
	$(CODE_COVERAGE_CPPFLAGS)
AM_CFLAGS = \
	$(PTHREAD_CFLAGS) \
	$(SDBUSPLUS_CFLAGS) \
	$(PHOSPHOR_DBUS_INTERFACES_CFLAGS) \
	$(CODE_COVERAGE_CFLAGS)
AM_CXXFLAGS = \
	$(PTHREAD_CXXFLAGS) \
	$(SDBUSPLUS_CXXFLAGS) \
	$(PHOSPHOR_DBUS_INTERFACES_CXXFLAGS) \
	$(CODE_COVERAGE_CXXFLAGS)
AM_LDFLAGS = \
	-lstdc++fs \
	$(SDBUSPLUS_LIBS) \
	$(PHOSPHOR_DBUS_INTERFACES_LIBS) \
	$(CODE_COVERAGE_LIBS) \
	-lgtest -lgtest_main -lgmock $(PTHREAD_CFLAGS) $(OESDK_TESTCASE_FLAGS)

test_physical_SOURCES = \
	sysfs.cpp \
	physical.cpp \
	%reldir%/physical.cpp
test_physical_CPPFLAGS = $(AM_CPPFLAGS) $(GTEST_CPPFLAGS)
test_physical_CFLAGS = $(AM_CFLAGS)
test_physical_CXXFLAGS = $(AM_CXXFLAGS)
test_physical_LDFLAGS = $(AM_LDFLAGS) \
	-lgtest -lgtest_main -lgmock $(PTHREAD_CFLAGS) $(OESDK_TESTCASE_FLAGS)

test_sysfs_SOURCES = \
	sysfs.cpp \
	%reldir%/sysfs.cpp
test_sysfs_CPPFLAGS = $(AM_CPPFLAGS) $(GTEST_CPPFLAGS)
test_sysfs_CFLAGS = $(AM_CFLAGS)
test_sysfs_CXXFLAGS = $(AM_CXXFLAGS)
test_sysfs_LDFLAGS = $(AM_LDFLAGS) \
	-lgtest -lgtest_main -lgmock $(PTHREAD_CFLAGS) $(OESDK_TESTCASE_FLAGS)

check_PROGRAMS += \
	%reldir%/physical \
	%reldir%/sysfs
